<h2 class="text-center">Liste des ReservationGuides</h2>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<div class="table-responsive">
  <div id="reservationbyguide">
  <table class="table table-striped table-hover custom-table">
  
    <thead>
      <tr>
        <th>date</th>
        <th>duration</th>
        <th>price</th>
        <th>status</th>
        <th>comment</th>
      <th>guide Name</th>

        <th>Action</th> <!-- Colonne pour le bouton -->
        <th>contact your guide now </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ReservationGuide of ReservationGuides">
        <td>{{ ReservationGuide.dateHour }}</td>
        <td>{{ ReservationGuide.duration }}</td>
        <td>{{ ReservationGuide.price }}</td>
        <td>
          <ng-container *ngIf="ReservationGuide.status === 'pending'">
            <i class="fas fa-spinner fa-spin pending-icon"></i> Loading
          </ng-container>
          <ng-container *ngIf="ReservationGuide.status === 'accepted'">
            <i class="fas fa-check-circle completed-icon"></i> accepted
          </ng-container>
          <ng-container *ngIf="ReservationGuide.status === 'cancelled'">
            <i class="fas fa-times-circle cancelled-icon"></i> Cancelled
          </ng-container>
          <ng-container *ngIf="ReservationGuide.status === 'rejected'">
            <i class="fas fa-check confirmed-icon"></i> rejected
          </ng-container>
        </td>
        <td>{{ ReservationGuide.comment }}</td>
        <td>{{getGuideDisplay(ReservationGuide.guide)}}</td>
        <td>
          <button class="btn-action btn-edit" [routerLink]="['/editreservation', ReservationGuide.idReservation]">
            <i class="fas fa-edit"></i> Edit
          </button>
          <button class="btn-action btn-view" [routerLink]="['/reservationguidedetails', ReservationGuide.idReservation]">
            <i class="fas fa-eye"></i> Details
          </button>
          <button class="btn-action btn-delete" (click)="ReservationGuide.idReservation !== undefined && deleteReservationGuide(ReservationGuide.idReservation)">
            <i class="fas fa-trash"></i> Delete
          </button>
          <button 
            class="btn-action btn-cancel" 
            *ngIf="ReservationGuide.status === 'pending' || ReservationGuide.status === 'confirmed'"
            (click)="ReservationGuide.idReservation !== undefined && deleteReservationGuide(ReservationGuide.idReservation)">
            <i class="fas fa-trash"></i> Cancel
          </button>

          <div *ngIf="ReservationGuide.status === 'confirmed'">
            <button class="btn btn-success mt-3">
              <i class="fas fa-file-pdf"></i> Download Contract
            </button>


          </div>

          
        </td> 
        <td>
          <button 
            class="btn btn-light btn-sm d-flex align-items-center gap-2 px-2 py-1 email-button"
            title="Contact via Gmail"
          >
            <i class="fas fa-envelope text-danger"></i>
            {{ getGuideemail(ReservationGuide.guide) }}
          </button>
        </td>
        
       
              </tr>

      <div class="text-center mt-5">
        <button 
          class="btn explore-guides-btn px-5 py-3"
          (click)="navigateToGuide()"
        >
          üåç Looking for more guides? <strong>Explore now</strong> ‚Üí
        </button>
      </div>
    </tbody>
  </table>
</div>