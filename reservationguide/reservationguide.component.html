<div class="reservation-container shadow-lg rounded-4 p-4" 
     style="background: #fff; font-family: 'Poppins', sans-serif; max-width: 700px; margin: 0 auto;">
     <div id="reservationfragment">

  <h2 class="form-title text-white text-center py-3 rounded-top"
      style="background: linear-gradient(to right, #f7941d, #8e44ad);">

    Réservation de Guide
  </h2>


  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

  <form [formGroup]="ReservationReservationGuideForm" (ngSubmit)="onSubmit()" class="reservation-form mt-3">

    <!-- Durée -->
    <div class="form-group mb-3">
      <label for="duration">Durée *</label>
      <select id="duration" formControlName="duration" class="form-control" required>
        <option value="" disabled selected>Sélectionnez une durée</option>
        <option value="1h">1 heure</option>
        <option value="2h">2 heures</option>
        <option value="3h">3 heures</option>
        <option value="journee">Journée complète</option>
      </select>
      <div *ngIf="ReservationReservationGuideForm.get('duration')?.invalid && 
                  (ReservationReservationGuideForm.get('duration')?.dirty || ReservationReservationGuideForm.get('duration')?.touched)"
           class="error-message text-danger mt-1">
        Ce champ est obligatoire
      </div>
    </div>

    <div class="form-group mb-3">
      <label for="dateHour">Date et Heure *</label>
      <input type="date" id="dateHour" formControlName="dateHour" class="form-control" required>
      <div *ngIf="ReservationReservationGuideForm.get('dateHour')?.invalid && 
                  (ReservationReservationGuideForm.get('dateHour')?.dirty || ReservationReservationGuideForm.get('dateHour')?.touched)"
           class="error-message text-danger mt-1">
        Veuillez sélectionner une date et heure valide
      </div>
    </div>

    <div class="form-group mb-3">
      <label for="status">Statut *</label>
      <input
        type="text"
        id="status"
        class="form-control"
        formControlName="status"
        readonly
      />
    </div>

    <!-- Utilisateur -->
    <div class="form-group mb-3">
      <label for="userId">Utilisateur *</label>
      <select id="userId" formControlName="userId" class="form-control" required>
        <option value="">-- Select User --</option>
        <option *ngFor="let user of users" [value]="user.id">
          {{ user.email }}
        </option>
      </select>
      <div *ngIf="ReservationReservationGuideForm.get('userId')?.invalid && 
                  (ReservationReservationGuideForm.get('userId')?.dirty || ReservationReservationGuideForm.get('userId')?.touched)"
           class="error-message text-danger mt-1">
        Please select a user
      </div>
    </div>

    <input type="hidden" formControlName="guideId">


    <!-- Prix -->
    <div class="form-group mb-3">
      <label for="price">Prix (€) *</label>
      <input type="number" id="price" formControlName="price" class="form-control" min="0" step="0.01" required placeholder="0.00">
      <div *ngIf="ReservationReservationGuideForm.get('price')?.invalid && 
                  (ReservationReservationGuideForm.get('price')?.dirty || ReservationReservationGuideForm.get('price')?.touched)"
           class="error-message text-danger mt-1">
        Veuillez entrer un montant valide
      </div>
    </div>

    <!-- Commentaire -->
    <div class="form-group mb-4">
      <label for="comment">Message *</label>
      <textarea id="comment" formControlName="comment" class="form-control" rows="4" required placeholder="Détails supplémentaires..."></textarea>
      <div *ngIf="ReservationReservationGuideForm.get('comment')?.invalid && 
                  (ReservationReservationGuideForm.get('comment')?.dirty || ReservationReservationGuideForm.get('comment')?.touched)"
           class="error-message text-danger mt-1">
        Ce champ est obligatoire
      </div>
    </div>

    <!-- Actions -->
    <div class="form-actions d-flex flex-column flex-md-row gap-3 justify-content-between">
      <button type="submit" class="btn w-100 text-white" 
              style="background: linear-gradient(to right, #f7941d, #8e44ad); border: none;"
              [disabled]="ReservationReservationGuideForm.invalid">
        <i class="fas fa-check-circle"></i> Confirmer la réservation
      </button>

      <button type="button" class="btn btn-secondary w-100" (click)="navigateToList()">
        <i class="fas fa-list"></i> Voir liste de vos réservations
      </button>

      <button type="button" class="btn btn-danger w-100" (click)="navigateToList()">
        <i class="fas fa-times-circle"></i> Annuler
      </button>
    </div>
  </form>
</div>

