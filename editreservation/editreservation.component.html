<div class="container mt-4" style="font-family: 'Poppins', sans-serif;">

  <!-- üîÑ Loading Indicator -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-gradient" role="status"
         style="width: 3rem; height: 3rem; color: #f7941d;">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading reservation details...</p>
  </div>

  <!-- ‚ùå Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- üìù Reservation Form -->
  <div *ngIf="reservationguide && !isLoading" class="card shadow-lg rounded-4 overflow-hidden" style="max-width: 800px; margin: 0 auto;">

    <!-- Gradient Header -->
    <div class="card-header text-white py-3 px-4"
         style="background: linear-gradient(to right, #f7941d, #8e44ad);">
      <h2 class="mb-0">Modifier la R√©servation</h2>
    </div>

    <!-- Form Body -->
    <div class="card-body px-4 py-4">
      <form (ngSubmit)="updateReservation()">

        <!-- Date & Time -->
        <div class="mb-3">
          <label for="dateHour" class="form-label">Date & Heure</label>
          <input 
            [(ngModel)]="reservationguide.dateHour" 
            name="dateHour" 
            id="dateHour" 
            class="form-control rounded-3" 
            type="datetime-local"
            required
          />
        </div>

        <!-- Duration -->
        <div class="mb-3">
          <label for="duration" class="form-label">Dur√©e</label>
          <select 
            [(ngModel)]="reservationguide.duration" 
            name="duration" 
            id="duration" 
            class="form-select rounded-3"
            required
          >
            <option value="" disabled selected>S√©lectionner une dur√©e</option>
            <option value="1h">1 heure</option>
            <option value="2h">2 heures</option>
            <option value="3h">3 heures</option>
            <option value="half-day">Demi-journ√©e (4 heures)</option>
            <option value="full-day">Journ√©e compl√®te (8 heures)</option>
          </select>
        </div>

        <!-- Status -->
        <div class="mb-3">
          <label for="status" class="form-label">Statut</label>
          <select 
            [(ngModel)]="reservationguide.status" 
            name="status" 
            id="status" 
            class="form-select rounded-3"
            [disabled]="reservationguide.status === 'cancelled' || reservationguide.status === 'completed'"
            required
          >
            <option value="" disabled selected>S√©lectionner un statut</option>
            <option value="pending">En attente</option>
            <option value="confirmed">Confirm√©e</option>
            <option value="cancelled">Annul√©e</option>
            <option value="completed">Termin√©e</option>
          </select>
        </div>

        <!-- Price -->
        <div class="mb-3">
          <label for="price" class="form-label">Prix (‚Ç¨)</label>
          <div class="input-group rounded-3">
            <span class="input-group-text">‚Ç¨</span>
            <input 
              [(ngModel)]="reservationguide.price" 
              name="price" 
              id="price" 
              class="form-control" 
              type="number"
              min="0"
              step="0.01"
              required
            />
          </div>
        </div>

        <!-- Comment -->
        <div class="mb-4">
          <label for="comment" class="form-label">Commentaire</label>
          <textarea 
            [(ngModel)]="reservationguide.comment" 
            name="comment" 
            id="comment" 
            class="form-control rounded-3" 
            rows="3"
          ></textarea>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-between mt-4">
          <button 
            type="button" 
            class="btn text-white px-4 py-2"
            style="background: linear-gradient(to right, #8e44ad, #f7941d); border: none;"
            (click)="navigateToList()"
          >
            <i class="fas fa-arrow-left me-2"></i> Annuler
          </button>

          <button 
            type="submit" 
            class="btn text-white px-4 py-2"
            [disabled]="isLoading"
            style="background: linear-gradient(to right, #f7941d, #8e44ad); border: none;"
          >
            <span *ngIf="!isLoading">
              <i class="fas fa-check-circle me-2"></i> Mettre √† jour
            </span>
            <span *ngIf="isLoading">
              <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
              Mise √† jour...
            </span>
          </button>
        </div>

      </form>
    </div>
  </div>
  <!-- üîé Explore More Guides Button -->

</div>

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
